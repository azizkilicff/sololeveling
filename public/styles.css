/* ===== Core reset & tokens ===== */
* { box-sizing: border-box; }
:root{
  --bg:#05070f;
  --panel:#0e1426;
  --panel-2:#131d34;
  --glass:rgba(15,23,42,0.82);
  --border:rgba(255,255,255,0.12);
  --text:#f2f6ff;
  --muted:#b0bbd4;
  --accent:#7cf0ff;
  --accent-2:#4f46e5;
  --danger:#ff6b6b;
  --success:#6dd5a3;
  --shadow:0 20px 50px rgba(0,0,0,0.45);
  --radius:18px;
}

html,body{height:100%;}
.page{
  margin:0;
  font-family:'Space Grotesk', 'Inter', system-ui, -apple-system, sans-serif;
  color:var(--text);
  background:#0b1224;
  overflow-x:hidden;
  position:relative;
  min-height:100vh;
}
.page::before{
  content:"";
  position:fixed;
  inset:0;
  z-index:-1;
  background:
    radial-gradient(1200px 900px at 50% 0%, #1a2744 10%, #0f1a30 55%, #0a1326 100%),
    linear-gradient(180deg, #0d162b 0%, #0b1426 35%, #0a1223 70%, #0b1426 100%);
  background-repeat:no-repeat;
  background-size:cover;
}
.grid-overlay{
  position:fixed; inset:0; pointer-events:none; z-index:0;
  background-image: linear-gradient(rgba(255,255,255,0.03) 1px, transparent 1px),
                    linear-gradient(90deg, rgba(255,255,255,0.03) 1px, transparent 1px);
  background-size: 120px 120px;
  mix-blend-mode:soft-light;
  background-attachment: fixed;
}
.orb{
  position:fixed; border-radius:50%; filter:blur(90px); opacity:0.6; z-index:0;
}
.orb-1{ width:420px; height:420px; background:rgba(124,240,255,0.35); top:8%; left:-80px; }
.orb-2{ width:360px; height:360px; background:rgba(79,70,229,0.35); bottom:5%; right:-60px; }

.shell{
  position:relative; z-index:1;
  max-width:1100px; margin:0 auto; padding:5.5rem 1.5rem 4rem; /* extra top padding so content clears navbar */
}

/* ===== Hero ===== */
.hero{ display:flex; flex-direction:column; gap:14px; margin-bottom:2.5rem; }
.hero h1{ font-size: clamp(2.4rem, 3vw, 3.4rem); margin:0; letter-spacing:-0.02em; }
.hero__lede{ color:var(--muted); max-width:720px; line-height:1.6; }
.hero__eyebrow{ display:flex; gap:0.5rem; align-items:center; }
.hero__tags{ display:flex; gap:0.5rem; flex-wrap:wrap; }
.pill{
  display:inline-flex; align-items:center; gap:6px;
  padding:0.4rem 0.9rem; border-radius:999px;
  background:rgba(255,255,255,0.06); border:1px solid var(--border);
  color:var(--text); font-weight:600; font-size:0.9rem;
}
.pill--subtle{ color:var(--muted); }
.pill--glow{ background:linear-gradient(90deg, rgba(124,240,255,0.2), rgba(79,70,229,0.25)); border-color:rgba(124,240,255,0.45); }
.pill--accent{ background:rgba(124,240,255,0.18); border-color:rgba(124,240,255,0.45); color:#dffbff; }

/* ===== Panels ===== */
.panel{
  background:linear-gradient(145deg, var(--panel), var(--panel-2));
  border:1px solid var(--border);
  border-radius:var(--radius);
  padding:1.5rem;
  box-shadow:var(--shadow);
  backdrop-filter:blur(12px);
}
.panel__head{ display:flex; align-items:center; justify-content:space-between; gap:1rem; margin-bottom:1rem; }
.panel h3, .panel h4{ margin:0; letter-spacing:-0.01em; }
.panel--inline{ margin-top:1rem; }
.panel--stack{ display:flex; flex-direction:column; gap:1rem; }

.aura-card{
  position:relative;
  overflow:hidden;
  border:1px solid rgba(124,240,255,0.25);
}
.aura-card::before{
  content:""; position:absolute; inset:-30% -40% auto auto;
  background:radial-gradient(circle at center, rgba(124,240,255,0.25), transparent 45%);
  transform:rotate(15deg);
  pointer-events:none;
}
.aura-card::after{
  content:""; position:absolute; inset:auto auto -40% -30%;
  background:radial-gradient(circle at center, rgba(79,70,229,0.18), transparent 50%);
  pointer-events:none;
}

/* ===== Text helpers ===== */
.eyebrow{ text-transform:uppercase; font-size:0.75rem; letter-spacing:0.08em; color:var(--muted); margin:0 0 4px; }
.stat-value{ font-size:1.5rem; font-weight:700; margin:0; }
.muted{ color:var(--muted); margin:0; }

/* ===== Forms ===== */
.auth-grid{
  display:grid; grid-template-columns:repeat(auto-fit,minmax(280px,1fr));
  gap:1rem; margin-bottom:2rem;
}
.auth-card{ display:grid; gap:0.75rem; align-content:start; }
.auth-card h2{ margin:0; font-size:1.6rem; }
.auth-card.accent{ background:linear-gradient(160deg, rgba(79,70,229,0.35), rgba(124,240,255,0.08)); border-color:rgba(124,240,255,0.4); }
.auth-card__head{ margin-bottom:0.5rem; }

.field{
  width:100%; padding:0.85rem 1rem;
  border-radius:12px; border:1px solid rgba(255,255,255,0.08);
  background:rgba(255,255,255,0.03); color:var(--text);
  font-size:1rem; transition:border .2s ease, box-shadow .2s ease;
}
.field:focus{ outline:none; border-color:rgba(124,240,255,0.6); box-shadow:0 0 0 3px rgba(124,240,255,0.15); }
.field--area{ min-height:110px; resize:vertical; }
.field__label{ margin:0.35rem 0 0.25rem; font-size:0.9rem; color:var(--muted); }

.btn{
  display:inline-flex; align-items:center; justify-content:center; gap:0.4rem;
  padding:0.85rem 1rem; border-radius:12px; border:1px solid rgba(255,255,255,0.08);
  font-weight:700; color:var(--text); background:rgba(255,255,255,0.05);
  cursor:pointer; transition:transform .12s ease, filter .12s ease, box-shadow .12s ease;
}
.btn:hover{ transform:translateY(-1px); filter:brightness(1.05); }
.btn.primary{ background:linear-gradient(120deg, #7cf0ff, #4f46e5); color:#05101a; border-color:rgba(124,240,255,0.5); box-shadow:0 10px 25px rgba(124,240,255,0.2); }
.btn.secondary{ background:rgba(124,240,255,0.14); border-color:rgba(124,240,255,0.35); color:#e5fbff; }
.btn.ghost{ background:transparent; border-color:rgba(255,255,255,0.1); color:var(--text); }
.btn.danger{ background:rgba(255,107,107,0.2); border-color:rgba(255,107,107,0.4); color:#ffe4e4; }
.btn.wide{ width:100%; }
.btn-ghost{ background:transparent; border-color:rgba(255,255,255,0.12); color:var(--text); }
.btn-ghost:hover{ filter:brightness(1.1); }

.navbar{
  position:fixed; top:18px; left:0; right:0; z-index:10;
  display:flex; justify-content:center;
  padding:0.55rem 1rem;
  background:rgba(5,7,15,0.55); border-bottom:1px solid rgba(255,255,255,0.08);
  backdrop-filter:blur(12px);
  transition:opacity .25s ease, transform .25s ease;
}
.navbar.nav-hidden{ opacity:0; transform:translateY(-20%); pointer-events:none; }
.navbar__inner{
  width:100%; max-width:1100px;
  display:flex; align-items:center; justify-content:space-between; gap:1rem;
  padding:0.35rem 0.75rem;
  border:1px solid rgba(255,255,255,0.08);
  border-radius:999px;
  background:rgba(5,7,15,0.65);
  box-shadow:0 10px 30px rgba(0,0,0,0.35);
}
.navbar__brand{ display:flex; align-items:center; gap:0.5rem; font-weight:700; letter-spacing:-0.01em; }
.logo-dot{
  width:12px; height:12px; border-radius:50%;
  background:linear-gradient(120deg, #7cf0ff, #4f46e5);
  box-shadow:0 0 10px rgba(124,240,255,0.5);
}
.logo-text{ font-size:1rem; }
.navbar__actions{ display:flex; align-items:center; gap:0.5rem; }
.nav-btn{ font-size:0.95rem; padding:0.55rem 0.95rem; }

/* ===== Stats ===== */
.stats-panel{ display:grid; gap:0.75rem; }
.stats-panel__header{ display:flex; align-items:center; justify-content:space-between; gap:1rem; flex-wrap:wrap; }
.stats-panel__chips{ display:flex; gap:0.5rem; flex-wrap:wrap; }
.xp-track{
  position:relative; width:100%; height:14px; border-radius:999px; overflow:hidden;
  background:linear-gradient(90deg, rgba(255,255,255,0.08), rgba(255,255,255,0.02));
  box-shadow:inset 0 0 10px rgba(0,0,0,0.6);
}
.xp-fill{
  position:absolute; inset:0 auto 0 0; width:0%;
  background: linear-gradient(90deg, var(--accent), var(--accent-2));
  box-shadow:0 0 20px rgba(124,240,255,0.45);
  transition: width .5s ease;
}
.xp-caption{ color:var(--muted); font-size:0.95rem; margin:0; }
.achievements{
  list-style:none; padding:0; margin:0.6rem 0 0;
  display:flex; flex-wrap:wrap; gap:0.45rem;
}
.achievements .ach-date{ color:var(--muted); font-size:0.8rem; margin-left:6px; }

/* ===== Dashboard ===== */
.dashboard-grid{
  display:grid; grid-template-columns:minmax(280px, 0.95fr) 1.2fr;
  gap:1rem; align-items:start; margin-bottom:2rem;
}
.quest-list{
  background:rgba(255,255,255,0.02);
  border-radius:12px;
  padding:0.5rem;
  max-height:70vh;
  overflow-y:auto;
}
#quest-list{ list-style:none; padding:0; margin:0; display:flex; flex-direction:column; gap:0.65rem; }
#quest-list li{
  display:flex; justify-content:space-between; align-items:center; gap:12px;
  padding:14px 16px;
  border-radius:12px; border:1px solid rgba(255,255,255,0.08);
  background:rgba(255,255,255,0.03);
  transition: transform .14s ease, border .14s ease, box-shadow .14s ease, background .14s ease;
}
#quest-list li:hover{ transform:translateY(-2px); border-color:rgba(124,240,255,0.4); box-shadow:0 10px 22px rgba(0,0,0,0.35); }
.quest strong{ font-weight:700; }
.quest-item{ border-left:4px solid rgba(255,255,255,0.12); }
.quest-item .quest-title{ font-weight:700; font-size:1.05rem; }
.quest-item .quest-meta{ display:flex; flex-wrap:wrap; gap:6px; margin-top:6px; }
.quest-item.diff-easy{ border-left-color:#5ce1a6; background:rgba(92,225,166,0.06); }
.quest-item.diff-medium{ border-left-color:#f2c14e; background:rgba(242,193,78,0.06); }
.quest-item.diff-hard{ border-left-color:#ff6b6b; background:rgba(255,107,107,0.06); }
.quest-item.diff-epic{ border-left-color:#9b6bff; background:rgba(155,107,255,0.08); }
.quest-item.overdue{ border-left-color:var(--danger); box-shadow:0 0 18px rgba(255,107,107,0.25); }
.right{ display:inline-flex; align-items:center; gap:.5rem; flex-wrap:wrap; }

.pill--mini{
  padding:0.25rem 0.55rem;
  font-size:0.82rem;
  border-radius:10px;
  border:1px solid rgba(255,255,255,0.12);
  background:rgba(255,255,255,0.04);
}
.pill--reward{ color:#c0ffe8; border-color:rgba(96,255,203,0.45); background:rgba(96,255,203,0.1); }
.pill--penalty{ color:#ffd2d2; border-color:rgba(255,107,107,0.45); background:rgba(255,107,107,0.08); }
.pill--diff{ text-transform:capitalize; border-color:rgba(124,240,255,0.3); }
.pill--danger{ color:#ffd2d2; border-color:rgba(255,107,107,0.45); background:rgba(255,107,107,0.08); }
.pill--link{ background:transparent; border-color:rgba(124,240,255,0.35); color:#e5fbff; cursor:pointer; }

.badge{
  padding:.18rem .6rem; border-radius:999px; font-size:.82rem; font-weight:700;
  border:1px solid rgba(255,255,255,.18);
}
.badge-pending{ background:#243241; color:#dbeaff; }
.badge-completed{ background:#132c2f; color:#7cf0ff; border-color:rgba(124,240,255,0.5); }
.badge-failed{ background:#3a1212; color:#ff8c8c; border-color:rgba(255,107,107,0.35); }

/* ===== Groups ===== */
.groups-grid{ margin-bottom:2rem; }
.group-forms{ display:grid; grid-template-columns:repeat(auto-fit,minmax(240px,1fr)); gap:0.75rem; align-items:end; }
.group-forms .field,.group-join .field,.group-forms .btn{ height:48px; }
.group-join{ display:grid; grid-template-columns:1fr auto; gap:0.6rem; }
.groups-columns{ display:grid; grid-template-columns:repeat(auto-fit,minmax(260px,1fr)); gap:0.75rem; }
.groups-list{ list-style:none; padding:0; margin:0; display:flex; flex-direction:column; gap:0.55rem; }
.groups-list li{
  display:flex; align-items:center; justify-content:space-between; gap:0.5rem;
  padding:0.9rem 1rem; border-radius:12px;
  border:1px solid rgba(255,255,255,0.08); background:rgba(255,255,255,0.02);
}
.leaderboard{ color:var(--muted); font-size:0.95rem; }
.error-text{ color:#ffb3b3; min-height:1.2rem; margin-top:0.35rem; text-align:center; }

/* ===== Navbar behaviour ===== */
body.pad-for-navbar { padding-top: 4rem; }
.hidden { display:none !important; }

@media (max-width:900px){
  .dashboard-grid{ grid-template-columns:1fr; }
  .navbar{ top:14px; }
  .navbar.nav-hidden{ transform:translateY(-20%); }
}
@media (max-width:600px){
  .shell{ padding:2.5rem 1.1rem 3.5rem; }
  .hero h1{ font-size:2.2rem; }
  .navbar__inner{ flex-wrap:wrap; justify-content:center; gap:0.6rem; }
  .navbar__actions{ width:100%; justify-content:center; flex-wrap:wrap; }
  .nav-btn{ flex:1 1 30%; }
}
